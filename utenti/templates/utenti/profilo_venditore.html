{% extends "base.html" %}

{% load static %}

{% block title %} {{ object.nome }} {% endblock %}

{% block content %}
    
    <h2>{{ object.nome }}</h2>
    
    <div class="foto-profilo-container">
        <img src="{% static object.foto_profilo.url %}" alt="foto profilo">
    </div>
    
    <h3>Giochi pubblicati:</h3>
    <ul class="lista-giochi">
    {% for p in object.prodotti.all %}
        <li>
            <a href="{% url "pagina_negozio" p.pk %}">
                <img src="{{ p.immagine.url }}" alt="{{ p.titolo }}">
                <span>{{ p.titolo }}</span>
            </a>
        </li>
    {% endfor %}
    </ul>
    
    {% if user.is_authenticated and user.venditore_profile.pk == user_id %}
        <p><a href="{% url "pubblica_prodotto" %}"><button type="button" class="button-pubblica">Pubblica prodotto</button></a></p>
    {% endif %}
    
    {% if user.is_authenticated and user.venditore_profile.pk == user_id %}
        <p>
            <a href="{% url "modifica_profilo_venditore" user_id %}?next={{ request.path }}"><button type="button" class="button-modifica">Modifica profilo</button></a>
            <a href="{% url "elimina_account" user.pk %}?next={{ request.path }}"><button type="button" class="button-elimina">Elimina account</button></a>
        </p>
    {% endif %}
    
    {% if next %}
        <p><a href="{{ next }}?terms={{ terms }}">Torna ai risultati della ricerca</a></p>
    {% endif %}

{% endblock %}